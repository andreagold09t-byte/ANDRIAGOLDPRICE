<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="google-site-verification" content="WL-OcyEw8VeASMaBK7v6aA7SVRp01r8cUjyFw1c82AY" />
    <title>Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø°Ù‡Ø¨ </title>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">

<style>
body {
    font-family: 'Cairo', sans-serif;
    background: linear-gradient(135deg, #111827, #1f2937);
    margin: 0;
    padding: 20px;
    color: white;
}

h1 {
    text-align: center;
    color: gold;
    margin-bottom: 30px;
}

.section-title {
    margin-top: 30px;
    font-size: 22px;
    color: #fbbf24;
    border-bottom: 2px solid #fbbf24;
    padding-bottom: 5px;
}

.container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 15px;
    margin-top: 20px;
}

.card {
    background: #1f2937;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.4);
    transition: 0.3s;
}

.card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(255,215,0,0.4);
}

.card-title {
    font-weight: bold;
    margin-bottom: 10px;
    color: #facc15;
    font-size: 18px;
}

.price {
    font-size: 20px;
}

.sell { color: #22c55e; }
.buy { color: #ef4444; }

.footer {
    text-align: center;
    margin-top: 40px;
    font-size: 14px;
    opacity: 0.8;
    color: #fbbf24;
}
</style>
</head>

<body>

<h1>Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø°Ù‡Ø¨  Ù„Ø­Ø¸ÙŠÙ‹Ø§ Ù…Ø¹ Ù…ØµÙˆØºØ§Øª Ø§Ù†Ø¯Ø±ÙŠØ§</h1>

<div class="section-title">Ø§Ù„Ø°Ù‡Ø¨</div>
<div class="container" id="gold"></div>

<div class="section-title">Ø§Ù„Ø¹Ù…Ù„Ø§Øª</div>
<div class="container" id="currency"></div>

<div class="footer">
    Web Developed by TomasAtef
</div>

<script>
async function fetchPrices() {
    try {
        const res = await fetch('/api/prices');
        const data = await res.json();

        const goldContainer = document.getElementById('gold');
        const currencyContainer = document.getElementById('currency');

        goldContainer.innerHTML = '';
        currencyContainer.innerHTML = '';

        for (const [key, value] of Object.entries(data)) {
            const card = document.createElement('div');
            card.className = 'card';

            if (typeof value === 'object') {
                card.innerHTML = `
                    <div class="card-title">${key}</div>
                    <div class="price sell">Ø¨ÙŠØ¹: ${value.Ø¨ÙŠØ¹} Ø¬Ù†ÙŠÙ‡</div>
                    <div class="price buy">Ø´Ø±Ø§Ø¡: ${value.Ø´Ø±Ø§Ø¡} Ø¬Ù†ÙŠÙ‡</div>
                `;
                goldContainer.appendChild(card);
            } else {
                card.innerHTML = `
                    <div class="card-title">${key}</div>
                    <div class="price">${value} Ø¬Ù†ÙŠÙ‡</div>
                `;
                currencyContainer.appendChild(card);
            }
        }

    } catch (err) {
        console.error("Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª", err);
    }
}

fetchPrices();
setInterval(fetchPrices, 60000);
</script>

<hr style="margin:30px 0">

<h2>ğŸ§® Ø­Ø§Ø³Ø¨Ø© Ø³Ø¹Ø± Ø§Ù„Ø°Ù‡Ø¨</h2>

<div style="background:#111; padding:15px; border-radius:10px; max-width:400px">
    
    <label>Ø¹Ø¯Ø¯ Ø§Ù„Ø¬Ø±Ø§Ù…Ø§Øª:</label><br>
    <input type="number" id="grams" placeholder="Ù…Ø«Ù„Ø§ 10" style="width:100%; padding:8px; margin:5px 0"><br>

    <label>Ø§Ø®ØªØ± Ø§Ù„Ø¹ÙŠØ§Ø±:</label><br>
    <select id="karat" style="width:100%; padding:8px; margin:5px 0">
        <option value="24">Ø¹ÙŠØ§Ø± 24</option>
        <option value="21">Ø¹ÙŠØ§Ø± 21</option>
        <option value="18">Ø¹ÙŠØ§Ø± 18</option>
        <option value="14">Ø¹ÙŠØ§Ø± 14</option>
    </select>

    <button onclick="calcGold()" style="width:100%; padding:10px; background:gold; border:none; font-weight:bold; cursor:pointer">
        Ø§Ø­Ø³Ø¨ Ø§Ù„Ø³Ø¹Ø±
    </button>

    <h3 id="result" style="margin-top:15px; color:gold"></h3>
</div>
 <script>
async function calcGold() {
    const grams = document.getElementById("grams").value;
    const karat = document.getElementById("karat").value;

    if (!grams) {
        document.getElementById("result").innerText = "Ø§ÙƒØªØ¨ Ø¹Ø¯Ø¯ Ø§Ù„Ø¬Ø±Ø§Ù…Ø§Øª";
        return;
    }

    try {
        const res = await fetch("/api/prices");
        const data = await res.json();

        const key = "Ø¹ÙŠØ§Ø± " + karat;
        const priceText = data[key]?.Ø¨ÙŠØ¹ || data[key]?.sell;

        if (!priceText) {
            document.getElementById("result").innerText = "Ù…Ø´ Ù„Ø§Ù‚ÙŠ Ø§Ù„Ø³Ø¹Ø± Ø­Ø§Ù„ÙŠØ§Ù‹";
            return;
        }

        const price = parseFloat(priceText.toString().replace(/[^\d.]/g, ""));
        const total = grams * price;

        document.getElementById("result").innerText =
            "Ø§Ù„Ø³Ø¹Ø± Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ: " + total.toFixed(0) + " Ø¬Ù†ÙŠÙ‡";
    } catch (e) {
        document.getElementById("result").innerText = "Ø­ØµÙ„ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„";
    }
}
</script>
</body>

</html>



